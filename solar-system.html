<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Dettagli Sole e Pianeti del Sistema Solare</title>
  <!-- Bootstrap CSS (v4.6) – senza attributi di integrità -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css">
  <style>
    /* Stili generali */
    body {
      background-color: #f8f9fa;
      font-family: Arial, sans-serif;
      padding-bottom: 40px;
    }
    h1 {
      margin-top: 20px;
      margin-bottom: 20px;
      color: #343a40;
      text-align: center;
    }
    .nav-tabs .nav-link {
      font-weight: 500;
    }
    .detail-table {
      margin-bottom: 20px;
    }
    /* Impostiamo 4 immagini per riga nella griglia */
    .image-grid .col-md-3 {
      margin-bottom: 15px;
    }
    .image-grid img {
      width: 100%;
      height: 200px;
      object-fit: cover;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Dettagli Sole e Pianeti del Sistema Solare</h1>
    <!-- Tabs di Navigazione -->
    <ul class="nav nav-tabs" id="objectTabs" role="tablist">
      <li class="nav-item">
        <a class="nav-link active" id="sun-tab" data-toggle="tab" href="#sun" role="tab" aria-controls="sun" aria-selected="true">Sole</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="mercury-tab" data-toggle="tab" href="#mercury" role="tab" aria-controls="mercury" aria-selected="false">Mercurio</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="venus-tab" data-toggle="tab" href="#venus" role="tab" aria-controls="venus" aria-selected="false">Venere</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="earth-tab" data-toggle="tab" href="#earth" role="tab" aria-controls="earth" aria-selected="false">Terra</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="mars-tab" data-toggle="tab" href="#mars" role="tab" aria-controls="mars" aria-selected="false">Marte</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="jupiter-tab" data-toggle="tab" href="#jupiter" role="tab" aria-controls="jupiter" aria-selected="false">Giove</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="saturn-tab" data-toggle="tab" href="#saturn" role="tab" aria-controls="saturn" aria-selected="false">Saturno</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="uranus-tab" data-toggle="tab" href="#uranus" role="tab" aria-controls="uranus" aria-selected="false">Urano</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="neptune-tab" data-toggle="tab" href="#neptune" role="tab" aria-controls="neptune" aria-selected="false">Nettuno</a>
      </li>
    </ul>
    
    <!-- Contenuto dei Tabs -->
    <div class="tab-content" id="objectTabsContent">
      <!-- Tab Sole -->
      <div class="tab-pane fade show active" id="sun" role="tabpanel" aria-labelledby="sun-tab">
        <h3 class="mt-3">Sole</h3>
        <table class="table table-bordered detail-table">
          <tbody>
            <tr><th>Età</th><td>4.6 miliardi di anni</td></tr>
            <tr><th>Diametro</th><td>1,392,000 km</td></tr>
            <tr><th>Massa</th><td>1.989×10<sup>30</sup> kg</td></tr>
            <tr><th>Luminosità</th><td>3.828×10<sup>26</sup> W</td></tr>
            <tr><th>Temperatura superficiale</th><td>5778 K</td></tr>
            <tr><th>Composizione</th><td>Idrogeno ~74%, Elio ~24%, altri ~2%</td></tr>
          </tbody>
        </table>
        <!-- Div in cui verranno caricate le immagini del Sole -->
        <div id="sun-image-grid" class="row image-grid"></div>
      </div>
      
      <!-- Tab Mercurio -->
      <div class="tab-pane fade" id="mercury" role="tabpanel" aria-labelledby="mercury-tab">
        <h3 class="mt-3">Mercurio</h3>
        <table class="table table-bordered detail-table">
          <tbody>
            <tr><th>Diametro</th><td>4,879 km</td></tr>
            <tr><th>Distanza dal Sole</th><td>57.9 milioni di km (0.39 AU)</td></tr>
            <tr><th>Periodo Orbitale</th><td>88 giorni</td></tr>
            <tr><th>Periodo di Rotazione</th><td>58.6 giorni</td></tr>
            <tr><th>Massa</th><td>3.30×10<sup>23</sup> kg</td></tr>
          </tbody>
        </table>
        <div id="mercury-image-grid" class="row image-grid"></div>
      </div>
      
      <!-- Tab Venere -->
      <div class="tab-pane fade" id="venus" role="tabpanel" aria-labelledby="venus-tab">
        <h3 class="mt-3">Venere</h3>
        <table class="table table-bordered detail-table">
          <tbody>
            <tr><th>Diametro</th><td>12,104 km</td></tr>
            <tr><th>Distanza dal Sole</th><td>108.2 milioni di km (0.72 AU)</td></tr>
            <tr><th>Periodo Orbitale</th><td>225 giorni</td></tr>
            <tr><th>Periodo di Rotazione</th><td>Retrogrado: -243 giorni</td></tr>
            <tr><th>Massa</th><td>4.87×10<sup>24</sup> kg</td></tr>
          </tbody>
        </table>
        <div id="venus-image-grid" class="row image-grid"></div>
      </div>
      
      <!-- Tab Terra -->
      <div class="tab-pane fade" id="earth" role="tabpanel" aria-labelledby="earth-tab">
        <h3 class="mt-3">Terra</h3>
        <table class="table table-bordered detail-table">
          <tbody>
            <tr><th>Diametro</th><td>12,742 km</td></tr>
            <tr><th>Distanza dal Sole</th><td>149.6 milioni di km (1 AU)</td></tr>
            <tr><th>Periodo Orbitale</th><td>365.25 giorni</td></tr>
            <tr><th>Periodo di Rotazione</th><td>24 ore</td></tr>
            <tr><th>Massa</th><td>5.97×10<sup>24</sup> kg</td></tr>
          </tbody>
        </table>
        <div id="earth-image-grid" class="row image-grid"></div>
      </div>
      
      <!-- Tab Marte -->
      <div class="tab-pane fade" id="mars" role="tabpanel" aria-labelledby="mars-tab">
        <h3 class="mt-3">Marte</h3>
        <table class="table table-bordered detail-table">
          <tbody>
            <tr><th>Diametro</th><td>6,779 km</td></tr>
            <tr><th>Distanza dal Sole</th><td>227.9 milioni di km (1.52 AU)</td></tr>
            <tr><th>Periodo Orbitale</th><td>687 giorni</td></tr>
            <tr><th>Periodo di Rotazione</th><td>24.6 ore</td></tr>
            <tr><th>Massa</th><td>6.42×10<sup>23</sup> kg</td></tr>
          </tbody>
        </table>
        <div id="mars-image-grid" class="row image-grid"></div>
      </div>
      
      <!-- Tab Giove -->
      <div class="tab-pane fade" id="jupiter" role="tabpanel" aria-labelledby="jupiter-tab">
        <h3 class="mt-3">Giove</h3>
        <table class="table table-bordered detail-table">
          <tbody>
            <tr><th>Diametro</th><td>139,820 km</td></tr>
            <tr><th>Distanza dal Sole</th><td>778.6 milioni di km (5.2 AU)</td></tr>
            <tr><th>Periodo Orbitale</th><td>4333 giorni</td></tr>
            <tr><th>Periodo di Rotazione</th><td>9.9 ore</td></tr>
            <tr><th>Massa</th><td>1.90×10<sup>27</sup> kg</td></tr>
          </tbody>
        </table>
        <div id="jupiter-image-grid" class="row image-grid"></div>
      </div>
      
      <!-- Tab Saturno -->
      <div class="tab-pane fade" id="saturn" role="tabpanel" aria-labelledby="saturn-tab">
        <h3 class="mt-3">Saturno</h3>
        <table class="table table-bordered detail-table">
          <tbody>
            <tr><th>Diametro</th><td>116,460 km</td></tr>
            <tr><th>Distanza dal Sole</th><td>1.43 miliardi di km (9.58 AU)</td></tr>
            <tr><th>Periodo Orbitale</th><td>10759 giorni (~29.5 anni)</td></tr>
            <tr><th>Periodo di Rotazione</th><td>10.7 ore</td></tr>
            <tr><th>Massa</th><td>5.68×10<sup>26</sup> kg</td></tr>
          </tbody>
        </table>
        <div id="saturn-image-grid" class="row image-grid"></div>
      </div>
      
      <!-- Tab Urano -->
      <div class="tab-pane fade" id="uranus" role="tabpanel" aria-labelledby="uranus-tab">
        <h3 class="mt-3">Urano</h3>
        <table class="table table-bordered detail-table">
          <tbody>
            <tr><th>Diametro</th><td>50,724 km</td></tr>
            <tr><th>Distanza dal Sole</th><td>2.87 miliardi di km (19.2 AU)</td></tr>
            <tr><th>Periodo Orbitale</th><td>30687 giorni (~84 anni)</td></tr>
            <tr><th>Periodo di Rotazione</th><td>Retrogrado, -17.2 ore</td></tr>
            <tr><th>Massa</th><td>8.68×10<sup>25</sup> kg</td></tr>
          </tbody>
        </table>
        <div id="uranus-image-grid" class="row image-grid"></div>
      </div>
      
      <!-- Tab Nettuno -->
      <div class="tab-pane fade" id="neptune" role="tabpanel" aria-labelledby="neptune-tab">
        <h3 class="mt-3">Nettuno</h3>
        <table class="table table-bordered detail-table">
          <tbody>
            <tr><th>Diametro</th><td>49,244 km</td></tr>
            <tr><th>Distanza dal Sole</th><td>4.50 miliardi di km (30.1 AU)</td></tr>
            <tr><th>Periodo Orbitale</th><td>60190 giorni (~164.8 anni)</td></tr>
            <tr><th>Periodo di Rotazione</th><td>16.11 ore</td></tr>
            <tr><th>Massa</th><td>1.02×10<sup>26</sup> kg</td></tr>
          </tbody>
        </table>
        <div id="neptune-image-grid" class="row image-grid"></div>
      </div>
    </div>
  </div>
  
  <footer class="text-center mt-4 p-3 bg-dark text-light">
    <p class="mb-0">Sistema Solare © 2025 - Tutti i diritti riservati</p>
  </footer>
  
  <!-- Inclusione di jQuery e Bootstrap Bundle (con Popper) -->
  <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Variabili di configurazione: modifica qui le query e il numero di immagini per tab
    const planetQueries = {
      sun: "planet sun NASA",
      mercury: "planet mercury NASA",
      venus: "planet venus NASA",
      earth: "planet earth NASA",
      mars: "planet mars NASA",
      jupiter: "planet jupiter NASA",
      saturn: "planet saturn NASA",
      uranus: "planet uranus NASA",
      neptune: "planet neptune NASA"
    };
    const imagesCount = 4; // Numero di immagini per ciascun tab

    // Funzione per codificare in sicurezza le stringhe per HTML
    function encodeHTML(str) {
      if (!str) return "";
      return str.replace(/"/g, '&quot;').replace(/'/g, '&#39;');
    }

    // Oggetto cache per le immagini già caricate
    const imagesCache = {};

    // Funzione per caricare le immagini da Unsplash per un dato pianeta (o Sole)
    function loadPlanetImages(planet) {
      const containerId = planet + "-image-grid";
      const container = document.getElementById(containerId);
      if (imagesCache[planet]) {
        container.innerHTML = imagesCache[planet];
        return;
      }
      const query = planetQueries[planet] || planet;
      let html = "";
      for (let i = 1; i <= imagesCount; i++) {
        let randomSig = i + Math.floor(Math.random() * 1000);
        let imageUrl = "https://source.unsplash.com/random/800x600/?" + encodeURIComponent(query) + "&sig=" + randomSig;
        html += `<div class="col-md-3 col-sm-6 mb-4">
                   <div class="card h-100">
                     <img src="${imageUrl}" class="card-img-top" alt="${encodeHTML(query)}">
                   </div>
                 </div>`;
      }
      imagesCache[planet] = html;
      container.innerHTML = html;
    }

    $(document).ready(function() {
      // Carica le immagini per il tab attivo di default (Sole)
      loadPlanetImages("sun");

      // Evento per il cambio tab: al passaggio a un tab, carica le immagini relative
      $('a[data-toggle="tab"]').on('shown.bs.tab', function(e) {
        var target = $(e.target).attr("href"); // es: "#mars"
        var planet = target.substring(1); // rimuove "#"
        loadPlanetImages(planet);
      });
    });
  </script>
</body>
</html>
